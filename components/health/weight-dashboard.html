<!-- Dashboard de EvoluÃ§Ã£o de Peso -->
<div id="weight-dashboard-modal" class="modal">
  <div class="modal-content modal-large">
    <div class="modal-header">
      <h3>ğŸ“ˆ EvoluÃ§Ã£o de Peso</h3>
      <button onclick="closeWeightDashboard()" class="btn-close">Ã—</button>
    </div>

    <div class="modal-body">
      <!-- Loading state -->
      <div
        id="weight-dashboard-loading"
        class="loading-state"
        style="display: none"
      >
        <div class="spinner"></div>
        <p>Carregando estatÃ­sticas...</p>
      </div>

      <!-- Empty state -->
      <div
        id="weight-dashboard-empty"
        class="empty-state"
        style="display: none"
      >
        <div class="empty-icon">âš–ï¸</div>
        <h4>Nenhum Peso Registrado</h4>
        <p>Registre seu peso para comeÃ§ar a acompanhar sua evoluÃ§Ã£o!</p>
        <button
          onclick="closeWeightDashboard(); openWeightRegistration();"
          class="btn btn-primary"
        >
          ğŸ“ Registrar Primeiro Peso
        </button>
      </div>

      <!-- Dashboard content -->
      <div id="weight-dashboard-content">
        <!-- Resumo Geral -->
        <div class="dashboard-summary">
          <div class="summary-card">
            <div class="summary-icon">âš–ï¸</div>
            <div class="summary-info">
              <span class="summary-label">Peso Atual</span>
              <span class="summary-value" id="current-weight-value">--</span>
              <span class="summary-date" id="current-weight-date">--</span>
            </div>
          </div>

          <div class="summary-card">
            <div class="summary-icon">ğŸ“Š</div>
            <div class="summary-info">
              <span class="summary-label">IMC Atual</span>
              <span class="summary-value" id="current-bmi-value">--</span>
              <span class="summary-classification" id="current-bmi-class"
                >--</span
              >
            </div>
          </div>

          <div class="summary-card">
            <div class="summary-icon">ğŸ“‰</div>
            <div class="summary-info">
              <span class="summary-label">VariaÃ§Ã£o Total</span>
              <span class="summary-value" id="total-change-value">--</span>
              <span class="summary-percent" id="total-change-percent">--</span>
            </div>
          </div>

          <div class="summary-card">
            <div class="summary-icon">ğŸ¯</div>
            <div class="summary-info">
              <span class="summary-label">Meta de Peso</span>
              <span class="summary-value" id="goal-weight-value">--</span>
              <span class="summary-remaining" id="goal-remaining">--</span>
            </div>
          </div>
        </div>

        <!-- GrÃ¡fico de EvoluÃ§Ã£o -->
        <div class="dashboard-chart-section">
          <h4>ğŸ“ˆ EvoluÃ§Ã£o nos Ãšltimos 3 Meses</h4>
          <div id="weight-chart-container" class="weight-chart">
            <!-- GrÃ¡fico serÃ¡ renderizado aqui -->
          </div>
          <div class="chart-legend">
            <span class="legend-item">
              <span
                class="legend-dot"
                style="background: var(--primary-color)"
              ></span>
              Peso registrado
            </span>
            <span class="legend-item" id="goal-legend" style="display: none">
              <span
                class="legend-dot"
                style="
                  background: var(--success-color);
                  border: 2px dashed var(--success-color);
                  background: transparent;
                "
              ></span>
              Meta
            </span>
          </div>
        </div>

        <!-- EstatÃ­sticas -->
        <div class="dashboard-stats">
          <div class="stats-group">
            <h4>ğŸ“Š EstatÃ­sticas</h4>

            <div class="stat-row">
              <span class="stat-label">Peso Inicial:</span>
              <span class="stat-value" id="initial-weight-stat">--</span>
            </div>

            <div class="stat-row">
              <span class="stat-label">Total de Registros:</span>
              <span class="stat-value" id="total-records-stat">--</span>
            </div>

            <div class="stat-row">
              <span class="stat-label">MÃ©dia (7 dias):</span>
              <span class="stat-value" id="avg-7days-stat">--</span>
            </div>

            <div class="stat-row">
              <span class="stat-label">MÃ©dia (30 dias):</span>
              <span class="stat-value" id="avg-30days-stat">--</span>
            </div>

            <div class="stat-row">
              <span class="stat-label">TendÃªncia:</span>
              <span class="stat-value" id="trend-stat">--</span>
            </div>
          </div>
        </div>

        <!-- HistÃ³rico Detalhado -->
        <div class="dashboard-history">
          <div class="history-header">
            <h4>ğŸ“ HistÃ³rico de Registros</h4>
            <button
              onclick="openWeightRegistration()"
              class="btn btn-small btn-primary"
            >
              â• Novo Registro
            </button>
          </div>

          <div id="weight-history-list" class="history-list">
            <!-- HistÃ³rico serÃ¡ renderizado aqui -->
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button onclick="openWeightRegistration()" class="btn btn-primary">
        ğŸ“ Registrar Peso
      </button>
      <button onclick="closeWeightDashboard()" class="btn btn-outline">
        Fechar
      </button>
    </div>
  </div>
</div>
